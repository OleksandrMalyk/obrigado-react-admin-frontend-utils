This is a guide on how to configure Authorization and Data provider for React Admin V2. Follow this link for React Admin V3:
+ [Setup for React Admin V3](V3.md).

# Authorization 
Use buildAuthProvider to create auth provider, add  AdministratorResource to resources to display default UI for administrators management.
```javascript
import {buildAuthProvider,AdministratorResource} from 'obrigado-react-admin-frontend-utils'
...
const apiUrl="http://localhost:3000/graphql"
const authProvider=buildAuthProvider(apiUrl,true)
... 
 <Admin
                title={'App'}
                ...
                authProvider={authProvider}
            >
                {permissions => {
                    console.log('permissions',permissions)
                    return [
                        AdministratorResource,
                    ]
                }}
 </Admin>
```
 
# Data provider
Use buildObrigadoDataProvider function to build dataprovider. Data provider is built asynchronously, Admin element should be displayed only when data provider is completely loaded. 

``` javascript
import React from 'react';
import './App.css';
import { Admin } from 'react-admin'
import {buildObrigadoDataProvider,buildAuthProvider,AdministratorResource} from 'obrigado-react-admin-frontend-utils'


class App extends React.Component{
    state = {
        dataProvider: null,
        authProvider:null
    }
    constructor(props){
        super(props)
        const apiUrl= "http://localhost:4000/graphql"
        buildObrigadoDataProvider(apiUrl).then(provider=>{
            this.setState({dataProvider:provider})
        })
        this.state.authProvider=buildAuthProvider(apiUrl,true)
    }
    render() {
        if (!this.state.dataProvider) {
            return <div>Loading schema</div>
        }
        return (
            <Admin
                title={'App'}
                dataProvider={this.state.dataProvider}
                authProvider={this.state.authProvider}
            >
                {permissions => {
                    console.log('permissions',permissions)
                    return [
                        AdministratorResource,

                    ]
                }}
            </Admin>
        );
    }
}

export default App;
```